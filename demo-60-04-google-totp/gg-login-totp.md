





使用google 提出的二次验证

对于登录来说，首先通过密码进行登录，通过之后再次校验totp 



该totop 的设置，一般是在用户注册成功之后再进行设置的。

1. 申请totp 二次验证开通
2. 后台为该用户生成一个随机key(该key 可以非全局唯一，因为它只针对该用户，用户都 唯一该值已经无所谓了)。
3. 将该key 与该用户以及app 的描述信息生成一个totp 协议，把该协议生成一个二维码图片给到前端
4. 前端展示该二维码，用户使用手机相关的app 来识别该totp 二维码。
5. 用户使用手机端的app 读取出对应的code，并由前端输入传给后端进行验证。
6. 验证通过则将相对应的key 随该用户一起存储。
7. 以后该用户所有的二次验证都使用该key 进行二次校验。













