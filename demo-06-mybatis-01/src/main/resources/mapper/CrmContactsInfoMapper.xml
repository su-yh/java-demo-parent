<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.suyh.mapper.CrmContactsInfoMapper">
  <resultMap id="BaseResultMap" type="com.suyh.model.CrmContactsInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun May 03 12:16:28 CST 2020.
    -->
    <id column="CONTACTS_ID" jdbcType="VARCHAR" property="contactsId" />
    <result column="CREATED_BY" jdbcType="VARCHAR" property="createdBy" />
    <result column="CREATED_TIME" jdbcType="TIMESTAMP" property="createdTime" />
    <result column="UPDATED_BY" jdbcType="VARCHAR" property="updatedBy" />
    <result column="UPDATED_TIME" jdbcType="TIMESTAMP" property="updatedTime" />
    <result column="CUSTOMER_ID" jdbcType="VARCHAR" property="customerId" />
    <result column="CONTACTS_KINDS" jdbcType="VARCHAR" property="contactsKinds" />
    <result column="CONTACTS_NAME" jdbcType="VARCHAR" property="contactsName" />
    <result column="PHONE" jdbcType="VARCHAR" property="phone" />
    <result column="EMAIL" jdbcType="VARCHAR" property="email" />
    <result column="QQ" jdbcType="VARCHAR" property="qq" />
    <result column="WECHAT" jdbcType="VARCHAR" property="wechat" />
    <result column="ADDRESS" jdbcType="VARCHAR" property="address" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun May 03 12:16:28 CST 2020.
    -->
    delete from CRM_CONTACTS_INFO
    where CONTACTS_ID = #{contactsId,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.suyh.model.CrmContactsInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun May 03 12:16:28 CST 2020.
    -->
    insert into CRM_CONTACTS_INFO (CONTACTS_ID, CREATED_BY, CREATED_TIME, 
      UPDATED_BY, UPDATED_TIME, CUSTOMER_ID, 
      CONTACTS_KINDS, CONTACTS_NAME, PHONE, 
      EMAIL, QQ, WECHAT, 
      ADDRESS)
    values (#{contactsId,jdbcType=VARCHAR}, #{createdBy,jdbcType=VARCHAR}, #{createdTime,jdbcType=TIMESTAMP}, 
      #{updatedBy,jdbcType=VARCHAR}, #{updatedTime,jdbcType=TIMESTAMP}, #{customerId,jdbcType=VARCHAR}, 
      #{contactsKinds,jdbcType=VARCHAR}, #{contactsName,jdbcType=VARCHAR}, #{phone,jdbcType=VARCHAR}, 
      #{email,jdbcType=VARCHAR}, #{qq,jdbcType=VARCHAR}, #{wechat,jdbcType=VARCHAR}, 
      #{address,jdbcType=VARCHAR})
  </insert>
  <!-- TODO: suyh - 这里做的是笔记，记录插入更新的条件语句，基于mysql。 -->
  <!-- TODO: suyh - 但是要注意的是，如果没有数据更新，或者没有数据插入，自增主键的id 值将不会有返回，需要做判断，如果返回值的id 为null，再重新去数据库查询。 -->
  <insert id="insert" parameterType="com.suyh.model.CrmContactsInfo" useGeneratedKeys="true" keyProperty="entity.id" keyColumn="id">
    insert into tpl_gov_microservice_t
        (<include refid="insertColumns"/>)
        values (<include refid="insertValues"/>)
        on duplicate key update
        service_id = #{entity.serviceId, jdbcType=VARCHAR},
        context_path = #{entity.contextPath, jdbcType=VARCHAR},
        service_type = #{entity.serviceType, jdbcType=VARCHAR},
        last_updated_date = CURRENT_TIMESTAMP(3)
  </insert>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun May 03 12:16:28 CST 2020.
    -->
    select CONTACTS_ID, CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, CUSTOMER_ID, 
    CONTACTS_KINDS, CONTACTS_NAME, PHONE, EMAIL, QQ, WECHAT, ADDRESS
    from CRM_CONTACTS_INFO
    where CONTACTS_ID = #{contactsId,jdbcType=VARCHAR}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Sun May 03 12:16:28 CST 2020.
    -->
    select CONTACTS_ID, CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, CUSTOMER_ID, 
    CONTACTS_KINDS, CONTACTS_NAME, PHONE, EMAIL, QQ, WECHAT, ADDRESS
    from CRM_CONTACTS_INFO
  </select>
  <select id="selectModelByFilter" resultMap="BaseResultMap">
    SELECT CONTACTS_ID, CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, CUSTOMER_ID, CONTACTS_KINDS, CONTACTS_NAME, PHONE, EMAIL, QQ, WECHAT, ADDRESS
    FROM CRM_CONTACTS_INFO
    <where>
      <if test="null != filter">
        <if test="null != filter.contactsId and '' != filter.contactsId ">
          AND CONTACTS_ID = #{filter.contactsId, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.createdBy and '' != filter.createdBy ">
          AND CREATED_BY = #{filter.createdBy, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.createdTime  ">
          AND CREATED_TIME = #{filter.createdTime, jdbcType = TIMESTAMP}
        </if>
        <if test="null != filter.updatedBy and '' != filter.updatedBy ">
          AND UPDATED_BY = #{filter.updatedBy, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.updatedTime  ">
          AND UPDATED_TIME = #{filter.updatedTime, jdbcType = TIMESTAMP}
        </if>
        <if test="null != filter.customerId and '' != filter.customerId ">
          AND CUSTOMER_ID = #{filter.customerId, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.contactsKinds and '' != filter.contactsKinds ">
          AND CONTACTS_KINDS = #{filter.contactsKinds, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.contactsName and '' != filter.contactsName ">
          AND CONTACTS_NAME = #{filter.contactsName, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.phone and '' != filter.phone ">
          AND PHONE = #{filter.phone, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.email and '' != filter.email ">
          AND EMAIL = #{filter.email, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.qq and '' != filter.qq ">
          AND QQ = #{filter.qq, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.wechat and '' != filter.wechat ">
          AND WECHAT = #{filter.wechat, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.address and '' != filter.address ">
          AND ADDRESS = #{filter.address, jdbcType = VARCHAR}
        </if>
      </if>
    </where>
  </select>
  <update id="updateModelByFilter">
    UPDATE  CRM_CONTACTS_INFO
    <set>
      <if test="null != model">
        <if test="null != model.contactsId">
          CONTACTS_ID = #{model.contactsId, jdbcType = VARCHAR},
        </if>
        <if test="null != model.createdBy">
          CREATED_BY = #{model.createdBy, jdbcType = VARCHAR},
        </if>
        <if test="null != model.createdTime">
          CREATED_TIME = #{model.createdTime, jdbcType = TIMESTAMP},
        </if>
        <if test="null != model.updatedBy">
          UPDATED_BY = #{model.updatedBy, jdbcType = VARCHAR},
        </if>
        <if test="null != model.updatedTime">
          UPDATED_TIME = #{model.updatedTime, jdbcType = TIMESTAMP},
        </if>
        <if test="null != model.customerId">
          CUSTOMER_ID = #{model.customerId, jdbcType = VARCHAR},
        </if>
        <if test="null != model.contactsKinds">
          CONTACTS_KINDS = #{model.contactsKinds, jdbcType = VARCHAR},
        </if>
        <if test="null != model.contactsName">
          CONTACTS_NAME = #{model.contactsName, jdbcType = VARCHAR},
        </if>
        <if test="null != model.phone">
          PHONE = #{model.phone, jdbcType = VARCHAR},
        </if>
        <if test="null != model.email">
          EMAIL = #{model.email, jdbcType = VARCHAR},
        </if>
        <if test="null != model.qq">
          QQ = #{model.qq, jdbcType = VARCHAR},
        </if>
        <if test="null != model.wechat">
          WECHAT = #{model.wechat, jdbcType = VARCHAR},
        </if>
        <if test="null != model.address">
          ADDRESS = #{model.address, jdbcType = VARCHAR},
        </if>
      </if>
    </set>
    <where>
      <if test="null != filter">
        <if test="null != filter.contactsId and '' != filter.contactsId ">
          AND CONTACTS_ID = #{filter.contactsId, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.createdBy and '' != filter.createdBy ">
          AND CREATED_BY = #{filter.createdBy, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.createdTime  ">
          AND CREATED_TIME = #{filter.createdTime, jdbcType = TIMESTAMP}
        </if>
        <if test="null != filter.updatedBy and '' != filter.updatedBy ">
          AND UPDATED_BY = #{filter.updatedBy, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.updatedTime  ">
          AND UPDATED_TIME = #{filter.updatedTime, jdbcType = TIMESTAMP}
        </if>
        <if test="null != filter.customerId and '' != filter.customerId ">
          AND CUSTOMER_ID = #{filter.customerId, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.contactsKinds and '' != filter.contactsKinds ">
          AND CONTACTS_KINDS = #{filter.contactsKinds, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.contactsName and '' != filter.contactsName ">
          AND CONTACTS_NAME = #{filter.contactsName, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.phone and '' != filter.phone ">
          AND PHONE = #{filter.phone, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.email and '' != filter.email ">
          AND EMAIL = #{filter.email, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.qq and '' != filter.qq ">
          AND QQ = #{filter.qq, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.wechat and '' != filter.wechat ">
          AND WECHAT = #{filter.wechat, jdbcType = VARCHAR}
        </if>
        <if test="null != filter.address and '' != filter.address ">
          AND ADDRESS = #{filter.address, jdbcType = VARCHAR}
        </if>
      </if>
    </where>
  </update>
  <select id="selectModelByFilterLike" resultMap="BaseResultMap">
    SELECT CONTACTS_ID, CREATED_BY, CREATED_TIME, UPDATED_BY, UPDATED_TIME, CUSTOMER_ID, CONTACTS_KINDS, CONTACTS_NAME, PHONE, EMAIL, QQ, WECHAT, ADDRESS
    FROM CRM_CONTACTS_INFO
    <where>
      <if test="null != filter">
        <if test="null != filter.contactsId and '' != filter.contactsId">
          AND CONTACTS_ID LIKE '%' || #{filter.contactsId, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.createdBy and '' != filter.createdBy">
          AND CREATED_BY LIKE '%' || #{filter.createdBy, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.createdTimeBefore">
          <![CDATA[  AND #{filter.createdTimeBefore, jdbcType = TIMESTAMP} <= CREATED_TIME  ]]>
        </if>
        <if test="null != filter.createdTimeAfter">
          <![CDATA[  AND CREATED_TIME < #{filter.createdTimeAfter, jdbcType = TIMESTAMP}  ]]>
        </if>
        <if test="null != filter.updatedBy and '' != filter.updatedBy">
          AND UPDATED_BY LIKE '%' || #{filter.updatedBy, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.updatedTimeBefore">
          <![CDATA[  AND #{filter.updatedTimeBefore, jdbcType = TIMESTAMP} <= UPDATED_TIME  ]]>
        </if>
        <if test="null != filter.updatedTimeAfter">
          <![CDATA[  AND UPDATED_TIME < #{filter.updatedTimeAfter, jdbcType = TIMESTAMP}  ]]>
        </if>
        <if test="null != filter.customerId and '' != filter.customerId">
          AND CUSTOMER_ID LIKE '%' || #{filter.customerId, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.contactsKinds and '' != filter.contactsKinds">
          AND CONTACTS_KINDS LIKE '%' || #{filter.contactsKinds, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.contactsName and '' != filter.contactsName">
          AND CONTACTS_NAME LIKE '%' || #{filter.contactsName, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.phone and '' != filter.phone">
          AND PHONE LIKE '%' || #{filter.phone, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.email and '' != filter.email">
          AND EMAIL LIKE '%' || #{filter.email, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.qq and '' != filter.qq">
          AND QQ LIKE '%' || #{filter.qq, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.wechat and '' != filter.wechat">
          AND WECHAT LIKE '%' || #{filter.wechat, jdbcType = VARCHAR} || '%'
        </if>
        <if test="null != filter.address and '' != filter.address">
          AND ADDRESS LIKE '%' || #{filter.address, jdbcType = VARCHAR} || '%'
        </if>
      </if>
    </where>
  </select>
</mapper>
